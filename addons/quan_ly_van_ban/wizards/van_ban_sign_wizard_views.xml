<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_van_ban_sign_wizard_form" model="ir.ui.view">
            <field name="name">van_ban_den.sign.wizard.form</field>
            <field name="model">van_ban_den.sign.wizard</field>
            <field name="arch" type="xml">
                <form string="K√Ω vƒÉn b·∫£n">
                    <field name="is_handover_receiver_sign" invisible="1"/>
                    <field name="is_handover_director_sign" invisible="1"/>
                    
                    <group>
                        <group string="Th√¥ng tin vƒÉn b·∫£n">
                            <field name="ten_van_ban" readonly="1"/>
                            <field name="request_type" readonly="1"/>
                            <field name="requester_name" readonly="1"/>
                        </group>
                        
                        <!-- Ghi ch√∫ ph√™ duy·ªát cho ng∆∞·ªùi duy·ªát th√¥ng th∆∞·ªùng -->
                        <group string="Ph√™ duy·ªát" attrs="{'invisible': ['|', ('is_handover_receiver_sign', '=', True), ('is_handover_director_sign', '=', True)]}">
                            <field name="approval_note" placeholder="Nh·∫≠p ghi ch√∫ (n·∫øu c√≥)..."/>
                        </group>
                        
                        <!-- H∆∞·ªõng d·∫´n cho ng∆∞·ªùi nh·∫≠n b√†n giao -->
                        <group string="X√°c nh·∫≠n ti·∫øp nh·∫≠n t√†i s·∫£n" attrs="{'invisible': [('is_handover_receiver_sign', '=', False)]}">
                            <div class="alert alert-info">
                                <p><strong>üìã H∆∞·ªõng d·∫´n:</strong></p>
                                <p>1. K√Ω t√™n v√†o √¥ b√™n d∆∞·ªõi ƒë·ªÉ x√°c nh·∫≠n nh·∫≠n t√†i s·∫£n</p>
                                <p>2. B·∫•m n√∫t <strong>"X√°c nh·∫≠n"</strong> ƒë·ªÉ ho√†n t·∫•t</p>
                                <p>3. Sau ƒë√≥ b·∫•m <strong>"G·ª≠i l√™n Gi√°m ƒë·ªëc"</strong> ƒë·ªÉ gi√°m ƒë·ªëc k√Ω duy·ªát</p>
                            </div>
                        </group>
                        
                        <!-- H∆∞·ªõng d·∫´n cho Gi√°m ƒë·ªëc k√Ω duy·ªát -->
                        <group string="Gi√°m ƒë·ªëc k√Ω duy·ªát b√†n giao" attrs="{'invisible': [('is_handover_director_sign', '=', False)]}">
                            <div class="alert alert-success">
                                <p><strong>üìã H∆∞·ªõng d·∫´n:</strong></p>
                                <p>1. K√Ω t√™n v√†o √¥ b√™n d∆∞·ªõi ƒë·ªÉ duy·ªát bi√™n b·∫£n b√†n giao</p>
                                <p>2. B·∫•m n√∫t <strong>"X√°c nh·∫≠n duy·ªát"</strong> ƒë·ªÉ ho√†n t·∫•t</p>
                                <p>3. Sau ƒë√≥ b·∫•m <strong>"G·ª≠i bi√™n b·∫£n v·ªÅ ng∆∞·ªùi y√™u c·∫ßu"</strong> ƒë·ªÉ ho√†n th√†nh</p>
                            </div>
                        </group>
                    </group>
                    <separator string="Ch·ªØ k√Ω"/>
                    <group>
                        <field name="signature" widget="signature" required="1"/>
                    </group>
                    <footer>
                        <!-- N√∫t cho ng∆∞·ªùi nh·∫≠n b√†n giao - CH·ªà c√≥ X√°c nh·∫≠n -->
                        <button name="action_confirm_receive" string="‚úÖ X√°c nh·∫≠n" type="object" 
                                class="btn-success"
                                attrs="{'invisible': [('is_handover_receiver_sign', '=', False)]}"/>
                        
                        <!-- N√∫t cho Gi√°m ƒë·ªëc k√Ω duy·ªát b√†n giao - CH·ªà c√≥ X√°c nh·∫≠n duy·ªát -->
                        <button name="action_confirm_director" string="‚úÖ X√°c nh·∫≠n duy·ªát" type="object" 
                                class="btn-success"
                                attrs="{'invisible': [('is_handover_director_sign', '=', False)]}"/>
                        
                        <!-- N√∫t cho ng∆∞·ªùi duy·ªát th√¥ng th∆∞·ªùng (kh√¥ng ph·∫£i b√†n giao) -->
                        <button name="action_sign_and_approve" string="‚úÖ Duy·ªát v√† K√Ω" type="object" 
                                class="btn-success"
                                attrs="{'invisible': ['|', ('is_handover_receiver_sign', '=', True), ('is_handover_director_sign', '=', True)]}"/>
                        <button name="action_sign_and_reject" string="‚ùå T·ª´ ch·ªëi v√† K√Ω" type="object" 
                                class="btn-danger"
                                attrs="{'invisible': ['|', ('is_handover_receiver_sign', '=', True), ('is_handover_director_sign', '=', True)]}"/>
                        <button name="action_sign" string="Ch·ªâ K√Ω" type="object" 
                                class="btn-secondary"
                                attrs="{'invisible': ['|', ('is_handover_receiver_sign', '=', True), ('is_handover_director_sign', '=', True)]}"/>
                        
                        <button string="H·ªßy" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>
