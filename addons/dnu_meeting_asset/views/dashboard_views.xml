<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Dashboard Action -->
        <record id="action_dnu_dashboard" model="ir.actions.client">
            <field name="name">Bảng điều khiển</field>
            <field name="tag">dnu_meeting_asset_dashboard</field>
        </record>

        <!-- Dashboard View (Board) -->
        <record id="view_dnu_dashboard" model="ir.ui.view">
            <field name="name">dnu.dashboard</field>
            <field name="model">dnu.meeting.booking</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Dashboard">
                    <sheet>
                        <div class="container-fluid o_dnu_dashboard">
                            <div class="row">
                                <!-- Summary Cards -->
                                <div class="col-md-3">
                                    <div class="card bg-primary text-white mb-3">
                                        <div class="card-body text-center">
                                            <h4 class="card-title">
                                                <i class="fa fa-cubes fa-2x" title="Tổng tài sản"/>
                                            </h4>
                                            <p class="card-text">Tổng tài sản</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-success text-white mb-3">
                                        <div class="card-body text-center">
                                            <h4 class="card-title">
                                                <i class="fa fa-building fa-2x" title="Phòng sẵn sàng"/>
                                            </h4>
                                            <p class="card-text">Phòng sẵn sàng</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-info text-white mb-3">
                                        <div class="card-body text-center">
                                            <h4 class="card-title">
                                                <i class="fa fa-calendar-check-o fa-2x" title="Đặt phòng hôm nay"/>
                                            </h4>
                                            <p class="card-text">Đặt phòng hôm nay</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-warning text-white mb-3">
                                        <div class="card-body text-center">
                                            <h4 class="card-title">
                                                <i class="fa fa-wrench fa-2x" title="Bảo trì chờ xử lý"/>
                                            </h4>
                                            <p class="card-text">Bảo trì chờ xử lý</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Dashboard - Today's Bookings Tree -->
        <record id="action_dnu_dashboard_today_bookings" model="ir.actions.act_window">
            <field name="name">Đặt phòng hôm nay</field>
            <field name="res_model">dnu.meeting.booking</field>
            <field name="view_mode">tree,calendar,form</field>
            <field name="domain">[('start_datetime', '&gt;=', (context_today()).strftime('%Y-%m-%d 00:00:00')), ('start_datetime', '&lt;=', (context_today()).strftime('%Y-%m-%d 23:59:59')), ('state', 'in', ['confirmed', 'in_progress'])]</field>
            <field name="context">{'create': False}</field>
        </record>

        <!-- Dashboard - This Week's Bookings -->
        <record id="action_dnu_dashboard_week_bookings" model="ir.actions.act_window">
            <field name="name">Đặt phòng tuần này</field>
            <field name="res_model">dnu.meeting.booking</field>
            <field name="view_mode">tree,calendar,form</field>
            <field name="domain">[
                ('start_datetime', '&gt;=', (context_today() + relativedelta(weekday=0, days=-6)).strftime('%Y-%m-%d 00:00:00')),
                ('start_datetime', '&lt;=', (context_today() + relativedelta(weekday=6)).strftime('%Y-%m-%d 23:59:59')),
                ('state', 'in', ['confirmed', 'in_progress'])
            ]</field>
            <field name="context">{'create': False}</field>
        </record>

        <!-- Dashboard - This Month's Bookings -->
        <record id="action_dnu_dashboard_month_bookings" model="ir.actions.act_window">
            <field name="name">Đặt phòng tháng này</field>
            <field name="res_model">dnu.meeting.booking</field>
            <field name="view_mode">tree,calendar,form</field>
            <field name="domain">[
                ('start_datetime', '&gt;=', (context_today()).strftime('%Y-%m-01 00:00:00')),
                ('start_datetime', '&lt;', ((context_today() + relativedelta(months=1)).strftime('%Y-%m-01 00:00:00'))),
                ('state', 'in', ['confirmed', 'in_progress'])
            ]</field>
            <field name="context">{'create': False}</field>
        </record>

        <!-- Dashboard - Pending Approval Bookings -->
        <record id="action_dnu_dashboard_pending_approval" model="ir.actions.act_window">
            <field name="name">Chờ duyệt</field>
            <field name="res_model">dnu.meeting.booking</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state', '=', 'submitted')]</field>
            <field name="context">{'create': False}</field>
        </record>

        <!-- Dashboard - Pending Maintenance -->
        <record id="action_dnu_dashboard_pending_maintenance" model="ir.actions.act_window">
            <field name="name">Bảo trì chờ xử lý</field>
            <field name="res_model">dnu.asset.maintenance</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('state', 'in', ['pending', 'in_progress'])]</field>
        </record>

        <!-- Dashboard - Available Rooms -->
        <record id="action_dnu_dashboard_available_rooms" model="ir.actions.act_window">
            <field name="name">Phòng sẵn sàng</field>
            <field name="res_model">dnu.meeting.room</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('state', '=', 'available'), ('is_available_now', '=', True)]</field>
        </record>

        <!-- Dashboard - Overdue Lendings -->
        <record id="action_dnu_dashboard_overdue_lendings" model="ir.actions.act_window">
            <field name="name">Mượn quá hạn</field>
            <field name="res_model">dnu.asset.lending</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state', '=', 'overdue')]</field>
        </record>

        <!-- Dashboard - Assets in Maintenance -->
        <record id="action_dnu_dashboard_assets_maintenance" model="ir.actions.act_window">
            <field name="name">Tài sản đang bảo trì</field>
            <field name="res_model">dnu.asset</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state', '=', 'maintenance')]</field>
        </record>

    </data>
</odoo>
