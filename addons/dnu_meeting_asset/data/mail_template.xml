<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Email Template: Booking Confirmation -->
        <record id="email_template_booking_confirmation" model="mail.template">
            <field name="name">Meeting Booking: Confirmation</field>
            <field name="model_id" ref="model_dnu_meeting_booking"/>
            <field name="subject">X√°c nh·∫≠n ƒë·∫∑t ph√≤ng: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.organizer_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #2c3e50;">X√°c nh·∫≠n ƒë·∫∑t ph√≤ng h·ªçp</h2>
    
    <p>Xin ch√†o <strong>${object.organizer_id.name}</strong>,</p>
    
    <p>Y√™u c·∫ßu ƒë·∫∑t ph√≤ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c <strong>x√°c nh·∫≠n</strong>.</p>
    
    <div style="background-color: #ecf0f1; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>M√£ ƒë·∫∑t ph√≤ng:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng h·ªçp:</strong></td>
                <td style="padding: 5px;">${object.room_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ch·ªß ƒë·ªÅ:</strong></td>
                <td style="padding: 5px;">${object.subject}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Th·ªùi gian:</strong></td>
                <td style="padding: 5px;">
                    ${format_datetime(object.start_datetime, dt_format='dd/MM/yyyy HH:mm')} - 
                    ${format_datetime(object.end_datetime, dt_format='HH:mm')}
                </td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë ng∆∞·ªùi:</strong></td>
                <td style="padding: 5px;">${object.num_attendees} ng∆∞·ªùi</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>V·ªã tr√≠:</strong></td>
                <td style="padding: 5px;">${object.room_id.location or 'N/A'}</td>
            </tr>
            % if object.meeting_type == 'online':
            <tr>
                <td style="padding: 5px;"><strong>Lo·∫°i cu·ªôc h·ªçp:</strong></td>
                <td style="padding: 5px;">Tr·ª±c tuy·∫øn (Online)</td>
            </tr>
            % endif
            % if object.zoom_join_url:
            <tr>
                <td style="padding: 5px;"><strong>Link Zoom:</strong></td>
                <td style="padding: 5px;">
                    <a href="${object.zoom_join_url}" style="color: #2980b9;">${object.zoom_join_url}</a>
                </td>
            </tr>
            % if object.zoom_password:
            <tr>
                <td style="padding: 5px;"><strong>Password Zoom:</strong></td>
                <td style="padding: 5px;">${object.zoom_password}</td>
            </tr>
            % endif
            % endif
            % if object.google_calendar_link:
            <tr>
                <td style="padding: 5px;"><strong>Google Calendar:</strong></td>
                <td style="padding: 5px;">
                    <a href="${object.google_calendar_link}" style="color: #27ae60;">Xem trong Google Calendar</a>
                </td>
            </tr>
            % endif
        </table>
    </div>
    
    % if object.attendee_ids:
    <div style="margin: 20px 0;">
        <strong>Ng∆∞·ªùi tham d·ª±:</strong>
        <ul style="margin-top: 5px;">
            % for attendee in object.attendee_ids:
            <li>${attendee.name} (${attendee.work_email or 'Kh√¥ng c√≥ email'})</li>
            % endfor
        </ul>
    </div>
    % endif
    
    % if object.description:
    <p><strong>M√¥ t·∫£:</strong><br/>
    ${object.description}
    </p>
    % endif
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.meeting.booking&amp;view_type=form" 
           style="background-color: #3498db; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem chi ti·∫øt
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.<br/>
        N·∫øu c√≥ th·∫Øc m·∫Øc, vui l√≤ng li√™n h·ªá b·ªô ph·∫≠n qu·∫£n l√Ω ph√≤ng h·ªçp.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Booking Cancellation -->
        <record id="email_template_booking_cancellation" model="mail.template">
            <field name="name">Meeting Booking: Cancellation</field>
            <field name="model_id" ref="model_dnu_meeting_booking"/>
            <field name="subject">H·ªßy ƒë·∫∑t ph√≤ng: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.organizer_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #e74c3c;">Th√¥ng b√°o h·ªßy ƒë·∫∑t ph√≤ng</h2>
    
    <p>Xin ch√†o <strong>${object.organizer_id.name}</strong>,</p>
    
    <p>ƒê·∫∑t ph√≤ng <strong>${object.name}</strong> ƒë√£ b·ªã <strong style="color: #e74c3c;">H·ª¶Y</strong>.</p>
    
    <div style="background-color: #ffecec; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng h·ªçp:</strong></td>
                <td style="padding: 5px;">${object.room_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Th·ªùi gian:</strong></td>
                <td style="padding: 5px;">
                    ${format_datetime(object.start_datetime, dt_format='dd/MM/yyyy HH:mm')} - 
                    ${format_datetime(object.end_datetime, dt_format='HH:mm')}
                </td>
            </tr>
            % if object.cancellation_reason:
            <tr>
                <td style="padding: 5px;"><strong>L√Ω do:</strong></td>
                <td style="padding: 5px;">${object.cancellation_reason}</td>
            </tr>
            % endif
        </table>
    </div>
    
    <p>N·∫øu b·∫°n c·∫ßn ƒë·∫∑t ph√≤ng kh√°c, vui l√≤ng truy c·∫≠p h·ªá th·ªëng ƒë·ªÉ t·∫°o y√™u c·∫ßu m·ªõi.</p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Booking Reminder -->
        <record id="email_template_booking_reminder" model="mail.template">
            <field name="name">Meeting Booking: Reminder</field>
            <field name="model_id" ref="model_dnu_meeting_booking"/>
            <field name="subject">Nh·∫Øc nh·ªü: Cu·ªôc h·ªçp ${object.subject}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.organizer_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #f39c12;">‚è∞ Nh·∫Øc nh·ªü cu·ªôc h·ªçp</h2>
    
    <p>Xin ch√†o <strong>${object.organizer_id.name}</strong>,</p>
    
    <p>Cu·ªôc h·ªçp c·ªßa b·∫°n s·∫Ω b·∫Øt ƒë·∫ßu trong <strong>30 ph√∫t n·ªØa</strong>.</p>
    
    <div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>Ch·ªß ƒë·ªÅ:</strong></td>
                <td style="padding: 5px;">${object.subject}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng:</strong></td>
                <td style="padding: 5px;">${object.room_id.name} - ${object.room_id.location or ''}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Th·ªùi gian:</strong></td>
                <td style="padding: 5px;">
                    ${format_datetime(object.start_datetime, dt_format='HH:mm')} - 
                    ${format_datetime(object.end_datetime, dt_format='HH:mm')}
                </td>
            </tr>
        </table>
    </div>
    
    <p>ƒê·ª´ng qu√™n chu·∫©n b·ªã t√†i li·ªáu v√† ƒë·∫øn ƒë√∫ng gi·ªù!</p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email nh·∫Øc nh·ªü t·ª± ƒë·ªông.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Asset Lending Approved -->
        <record id="email_template_lending_approved" model="mail.template">
            <field name="name">Asset Lending: Approved</field>
            <field name="model_id" ref="model_dnu_asset_lending"/>
            <field name="subject">Y√™u c·∫ßu m∆∞·ª£n t√†i s·∫£n ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.borrower_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #27ae60;">‚úÖ Y√™u c·∫ßu m∆∞·ª£n t√†i s·∫£n ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát</h2>
    
    <p>Xin ch√†o <strong>${object.borrower_id.name}</strong>,</p>
    
    <p>Y√™u c·∫ßu m∆∞·ª£n t√†i s·∫£n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c <strong style="color: #27ae60;">PH√ä DUY·ªÜT</strong>.</p>
    
    <div style="background-color: #d4edda; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>M√£ phi·∫øu m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${format_datetime(object.borrow_date, dt_format='dd/MM/yyyy HH:mm')}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y tr·∫£ d·ª± ki·∫øn:</strong></td>
                <td style="padding: 5px;">${format_datetime(object.expected_return_date, dt_format='dd/MM/yyyy HH:mm')}</td>
            </tr>
        </table>
    </div>
    
    <p>Vui l√≤ng ƒë·∫øn nh·∫≠n t√†i s·∫£n v√† tr·∫£ ƒë√∫ng h·∫°n.</p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Asset Lending Overdue -->
        <record id="email_template_lending_overdue" model="mail.template">
            <field name="name">Asset Lending: Overdue Warning</field>
            <field name="model_id" ref="model_dnu_asset_lending"/>
            <field name="subject">‚ö†Ô∏è C·∫¢NH B√ÅO: T√†i s·∫£n m∆∞·ª£n ƒë√£ qu√° h·∫°n - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.borrower_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #e74c3c;">‚ö†Ô∏è C·∫¢NH B√ÅO: T√†i s·∫£n m∆∞·ª£n ƒë√£ qu√° h·∫°n</h2>
    
    <p>Xin ch√†o <strong>${object.borrower_id.name}</strong>,</p>
    
    <p>T√†i s·∫£n b·∫°n m∆∞·ª£n ƒë√£ <strong style="color: #e74c3c;">QU√Å H·∫†N TR·∫¢</strong>.</p>
    
    <div style="background-color: #ffecec; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #e74c3c;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>M√£ phi·∫øu m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y tr·∫£ d·ª± ki·∫øn:</strong></td>
                <td style="padding: 5px; color: #e74c3c;"><strong>${format_datetime(object.expected_return_date, dt_format='dd/MM/yyyy HH:mm')}</strong></td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë ng√†y qu√° h·∫°n:</strong></td>
                <td style="padding: 5px; color: #e74c3c;"><strong>${object.overdue_days} ng√†y</strong></td>
            </tr>
        </table>
    </div>
    
    <p><strong>Vui l√≤ng tr·∫£ t√†i s·∫£n NGAY L·∫¨P T·ª®C ƒë·ªÉ tr√°nh ·∫£nh h∆∞·ªüng ƒë·∫øn c√¥ng vi·ªác c·ªßa ng∆∞·ªùi kh√°c.</strong></p>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.lending&amp;view_type=form" 
           style="background-color: #e74c3c; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem chi ti·∫øt phi·∫øu m∆∞·ª£n
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email c·∫£nh b√°o t·ª± ƒë·ªông.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Asset Lending Return Reminder -->
        <record id="email_template_lending_return_reminder" model="mail.template">
            <field name="name">Asset Lending: Return Reminder</field>
            <field name="model_id" ref="model_dnu_asset_lending"/>
            <field name="subject">Nh·∫Øc nh·ªü: H·∫°n tr·∫£ t√†i s·∫£n s·∫Øp ƒë·∫øn - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.borrower_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #f39c12;">‚è∞ Nh·∫Øc nh·ªü tr·∫£ t√†i s·∫£n</h2>
    
    <p>Xin ch√†o <strong>${object.borrower_id.name}</strong>,</p>
    
    <p>ƒê√¢y l√† l·ªùi nh·∫Øc nh·ªü r·∫±ng t√†i s·∫£n b·∫°n ƒëang m∆∞·ª£n s·∫Ω ƒë·∫øn h·∫°n tr·∫£ <strong>v√†o ng√†y mai</strong>.</p>
    
    <div style="background-color: #fff3cd; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>M√£ phi·∫øu m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y tr·∫£ d·ª± ki·∫øn:</strong></td>
                <td style="padding: 5px;"><strong>${format_datetime(object.expected_return_date, dt_format='dd/MM/yyyy HH:mm')}</strong></td>
            </tr>
        </table>
    </div>
    
    <p>Vui l√≤ng chu·∫©n b·ªã tr·∫£ t√†i s·∫£n ƒë√∫ng h·∫°n.</p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email nh·∫Øc nh·ªü t·ª± ƒë·ªông.
    </p>
</div>
            </field>
        </record>

        <!-- ====== AUTOMATION EMAIL TEMPLATES ====== -->

        <!-- Email Template: Escalation to Manager (Level 2) -->
        <record id="email_template_lending_escalation_manager" model="mail.template">
            <field name="name">Asset Lending: Escalation to Manager</field>
            <field name="model_id" ref="model_dnu_asset_lending"/>
            <field name="subject">‚ö†Ô∏è [ESCALATION] Nh√¢n vi√™n c√≥ t√†i s·∫£n qu√° h·∫°n - ${object.borrower_name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${ctx.get('manager_email', '') or object.borrower_id.parent_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #e67e22;">‚ö†Ô∏è TH√îNG B√ÅO ESCALATION - T√ÄI S·∫¢N QU√Å H·∫†N</h2>
    
    <p>K√≠nh g·ª≠i Qu·∫£n l√Ω,</p>
    
    <p>ƒê√¢y l√† th√¥ng b√°o escalation v·ªÅ t√¨nh tr·∫°ng <strong style="color: #e74c3c;">t√†i s·∫£n m∆∞·ª£n qu√° h·∫°n</strong> c·ªßa nh√¢n vi√™n thu·ªôc ph√≤ng ban b·∫°n qu·∫£n l√Ω.</p>
    
    <div style="background-color: #fdf2e9; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #e67e22;">
        <h4 style="margin-top: 0;">Th√¥ng tin chi ti·∫øt:</h4>
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>Nh√¢n vi√™n:</strong></td>
                <td style="padding: 5px;">${object.borrower_name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng ban:</strong></td>
                <td style="padding: 5px;">${object.borrower_id.department_id.name if object.borrower_id and object.borrower_id.department_id else 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>M√£ phi·∫øu m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_id.name} (${object.asset_id.code})</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>H·∫°n tr·∫£:</strong></td>
                <td style="padding: 5px; color: #e74c3c;"><strong>${format_datetime(object.date_expected_return, dt_format='dd/MM/yyyy HH:mm')}</strong></td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë ng√†y qu√° h·∫°n:</strong></td>
                <td style="padding: 5px; color: #e74c3c;"><strong>${object.overdue_days} ng√†y</strong></td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>C·∫•p escalation:</strong></td>
                <td style="padding: 5px;"><strong>C·∫•p 2 - Th√¥ng b√°o Qu·∫£n l√Ω</strong></td>
            </tr>
        </table>
    </div>
    
    <p><strong>Y√™u c·∫ßu:</strong> Vui l√≤ng nh·∫Øc nh·ªü nh√¢n vi√™n <strong>${object.borrower_name}</strong> tr·∫£ t√†i s·∫£n ngay l·∫≠p t·ª©c.</p>
    
    <p>N·∫øu t√¨nh tr·∫°ng n√†y ti·∫øp t·ª•c, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông escalate l√™n Ban Gi√°m ƒë·ªëc / Ph√≤ng HCNS.</p>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.lending&amp;view_type=form" 
           style="background-color: #e67e22; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem chi ti·∫øt
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email th√¥ng b√°o t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng qu·∫£n l√Ω t√†i s·∫£n.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Escalation Level 3 (HR/Director) -->
        <record id="email_template_lending_escalation_hr" model="mail.template">
            <field name="name">Asset Lending: Critical Escalation (HR/Director)</field>
            <field name="model_id" ref="model_dnu_asset_lending"/>
            <field name="subject">üö® [KH·∫®N C·∫§P] T√†i s·∫£n qu√° h·∫°n nghi√™m tr·ªçng - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #c0392b;">üö® C·∫¢NH B√ÅO KH·∫®N C·∫§P - T√ÄI S·∫¢N QU√Å H·∫†N NGHI√äM TR·ªåNG</h2>
    
    <p>K√≠nh g·ª≠i Ban l√£nh ƒë·∫°o / Ph√≤ng HCNS,</p>
    
    <p>ƒê√¢y l√† th√¥ng b√°o <strong style="color: #c0392b;">ESCALATION C·∫§P 3</strong> v·ªÅ t√¨nh tr·∫°ng t√†i s·∫£n qu√° h·∫°n nghi√™m tr·ªçng c·∫ßn x·ª≠ l√Ω kh·∫©n c·∫•p.</p>
    
    <div style="background-color: #fdedec; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #c0392b;">
        <h4 style="margin-top: 0; color: #c0392b;">‚ö†Ô∏è TH√îNG TIN KH·∫®N C·∫§P:</h4>
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>Ng∆∞·ªùi m∆∞·ª£n:</strong></td>
                <td style="padding: 5px;">${object.borrower_name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng ban:</strong></td>
                <td style="padding: 5px;">${object.borrower_id.department_id.name if object.borrower_id and object.borrower_id.department_id else 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_id.name} (${object.asset_id.code})</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Gi√° tr·ªã t√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${'{:,.0f}'.format(object.asset_id.purchase_value or 0)} VNƒê</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë ng√†y qu√° h·∫°n:</strong></td>
                <td style="padding: 5px; color: #c0392b; font-size: 18px;"><strong>${object.overdue_days} NG√ÄY</strong></td>
            </tr>
        </table>
    </div>
    
    <h4>L·ªãch s·ª≠ escalation:</h4>
    <ul>
        <li>Ng√†y 1: Nh·∫Øc nh·ªü ng∆∞·ªùi m∆∞·ª£n</li>
        <li>Ng√†y 3: Th√¥ng b√°o Qu·∫£n l√Ω ph√≤ng ban</li>
        <li><strong>Ng√†y 7+: Th√¥ng b√°o Ban l√£nh ƒë·∫°o / HCNS (HI·ªÜN T·∫†I)</strong></li>
    </ul>
    
    <p><strong style="color: #c0392b;">ƒê·ªÅ xu·∫•t x·ª≠ l√Ω:</strong></p>
    <ul>
        <li>Li√™n h·ªá tr·ª±c ti·∫øp v·ªõi nh√¢n vi√™n ƒë·ªÉ thu h·ªìi t√†i s·∫£n</li>
        <li>Xem x√©t c√°c bi·ªán ph√°p k·ª∑ lu·∫≠t ph√π h·ª£p</li>
        <li>Ki·ªÉm tra l·∫°i quy tr√¨nh m∆∞·ª£n t√†i s·∫£n</li>
    </ul>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.lending&amp;view_type=form" 
           style="background-color: #c0392b; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem v√† x·ª≠ l√Ω
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email c·∫£nh b√°o kh·∫©n c·∫•p t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng qu·∫£n l√Ω t√†i s·∫£n.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Warranty Expiry Reminder -->
        <record id="email_template_warranty_expiry" model="mail.template">
            <field name="name">Asset: Warranty Expiry Reminder</field>
            <field name="model_id" ref="model_dnu_asset"/>
            <field name="subject">‚è∞ B·∫£o h√†nh s·∫Øp h·∫øt h·∫°n: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #f39c12;">‚è∞ Nh·∫Øc nh·ªü: B·∫£o h√†nh s·∫Øp h·∫øt h·∫°n</h2>
    
    <p>Xin ch√†o,</p>
    
    <p>T√†i s·∫£n sau ƒë√¢y s·∫Øp h·∫øt h·∫°n b·∫£o h√†nh:</p>
    
    <div style="background-color: #fef9e7; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #f39c12;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>T√™n t√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>M√£ t√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.code}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Danh m·ª•c:</strong></td>
                <td style="padding: 5px;">${object.category_id.name if object.category_id else 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y h·∫øt b·∫£o h√†nh:</strong></td>
                <td style="padding: 5px; color: #e67e22;"><strong>${format_date(object.warranty_expiry)}</strong></td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Nh√† cung c·∫•p:</strong></td>
                <td style="padding: 5px;">${object.supplier_id.name if object.supplier_id else 'N/A'}</td>
            </tr>
        </table>
    </div>
    
    <p><strong>Khuy·∫øn ngh·ªã:</strong></p>
    <ul>
        <li>Ki·ªÉm tra t√¨nh tr·∫°ng t√†i s·∫£n tr∆∞·ªõc khi h·∫øt b·∫£o h√†nh</li>
        <li>Li√™n h·ªá nh√† cung c·∫•p n·∫øu c·∫ßn s·ª≠a ch·ªØa/thay th·∫ø</li>
        <li>C√¢n nh·∫Øc gia h·∫°n b·∫£o h√†nh ho·∫∑c mua h·ª£p ƒë·ªìng b·∫£o tr√¨</li>
    </ul>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset&amp;view_type=form" 
           style="background-color: #f39c12; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem chi ti·∫øt t√†i s·∫£n
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email nh·∫Øc nh·ªü t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng qu·∫£n l√Ω t√†i s·∫£n.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Asset Return Request (Offboarding) -->
        <record id="email_template_asset_return_offboarding" model="mail.template">
            <field name="name">Asset: Return Request (Offboarding)</field>
            <field name="model_id" ref="model_hr_employee"/>
            <field name="subject">üîÑ Y√™u c·∫ßu thu h·ªìi t√†i s·∫£n: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #3498db;">üîÑ Y√™u c·∫ßu thu h·ªìi t√†i s·∫£n</h2>
    
    <p>Xin ch√†o,</p>
    
    <p>Nh√¢n vi√™n <strong>${object.name}</strong> ƒëang chu·∫©n b·ªã ngh·ªâ vi·ªác/chuy·ªÉn c√¥ng t√°c.</p>
    
    <p>Vui l√≤ng ti·∫øn h√†nh thu h·ªìi c√°c t√†i s·∫£n ƒëang ƒë∆∞·ª£c giao cho nh√¢n vi√™n n√†y:</p>
    
    <div style="background-color: #ebf5fb; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #3498db;">
        <h4 style="margin-top: 0;">Th√¥ng tin nh√¢n vi√™n:</h4>
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>H·ªç t√™n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ph√≤ng ban:</strong></td>
                <td style="padding: 5px;">${object.department_id.name if object.department_id else 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë t√†i s·∫£n c·∫ßn thu h·ªìi:</strong></td>
                <td style="padding: 5px;"><strong>${object.pending_asset_return_count}</strong></td>
            </tr>
        </table>
    </div>
    
    <p><strong>C√°c b∆∞·ªõc c·∫ßn th·ª±c hi·ªán:</strong></p>
    <ol>
        <li>Li√™n h·ªá v·ªõi nh√¢n vi√™n ƒë·ªÉ l√™n l·ªãch thu h·ªìi</li>
        <li>Ki·ªÉm tra t√¨nh tr·∫°ng t√†i s·∫£n khi nh·∫≠n l·∫°i</li>
        <li>C·∫≠p nh·∫≠t tr·∫°ng th√°i tr√™n h·ªá th·ªëng</li>
        <li>Ho√†n t·∫•t bi√™n b·∫£n b√†n giao</li>
    </ol>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=hr.employee&amp;view_type=form" 
           style="background-color: #3498db; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem chi ti·∫øt nh√¢n vi√™n
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email th√¥ng b√°o t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng qu·∫£n l√Ω t√†i s·∫£n.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Missing Asset Alert -->
        <record id="email_template_missing_asset" model="mail.template">
            <field name="name">Asset: Missing Alert</field>
            <field name="model_id" ref="model_dnu_asset"/>
            <field name="subject">üî¥ C·∫¢NH B√ÅO: T√†i s·∫£n m·∫•t - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #c0392b;">üî¥ C·∫¢NH B√ÅO: T√ÄI S·∫¢N ƒê∆Ø·ª¢C ƒê√ÅNH D·∫§U M·∫§T</h2>
    
    <p>Xin ch√†o,</p>
    
    <p>T√†i s·∫£n sau ƒë√¢y ƒë√£ ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† <strong style="color: #c0392b;">M·∫§T</strong> sau nhi·ªÅu ƒë·ª£t ki·ªÉm k√™ kh√¥ng t√¨m th·∫•y:</p>
    
    <div style="background-color: #fdedec; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #c0392b;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>T√™n t√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>M√£ t√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.code}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Gi√° tr·ªã:</strong></td>
                <td style="padding: 5px;">${'{:,.0f}'.format(object.purchase_value or 0)} VNƒê</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng∆∞·ªùi ƒë∆∞·ª£c g√°n cu·ªëi:</strong></td>
                <td style="padding: 5px;">${object.assigned_to.name if object.assigned_to else 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>V·ªã tr√≠ cu·ªëi:</strong></td>
                <td style="padding: 5px;">${object.location or 'N/A'}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>S·ªë ƒë·ª£t ki·ªÉm k√™ kh√¥ng th·∫•y:</strong></td>
                <td style="padding: 5px; color: #c0392b;"><strong>${object.missing_inventory_count}</strong></td>
            </tr>
        </table>
    </div>
    
    <p><strong>Y√™u c·∫ßu:</strong></p>
    <ul>
        <li>Ti·∫øn h√†nh ƒëi·ªÅu tra t√¨m ki·∫øm t√†i s·∫£n</li>
        <li>Li√™n h·ªá v·ªõi ng∆∞·ªùi ƒë∆∞·ª£c g√°n cu·ªëi c√πng</li>
        <li>Ki·ªÉm tra c√°c v·ªã tr√≠ c√≥ th·ªÉ</li>
        <li>L·∫≠p bi√™n b·∫£n n·∫øu x√°c nh·∫≠n m·∫•t</li>
    </ul>
    
    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset&amp;view_type=form" 
           style="background-color: #c0392b; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem v√† x·ª≠ l√Ω
        </a>
    </p>
    
    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email c·∫£nh b√°o t·ª± ƒë·ªông t·ª´ h·ªá th·ªëng qu·∫£n l√Ω t√†i s·∫£n.
    </p>
</div>
            </field>
        </record>

        <!-- ==================== ASSET HANDOVER EMAIL TEMPLATES ==================== -->

        <record id="email_template_handover_signature" model="mail.template">
            <field name="name">Asset Handover: Signature Request</field>
            <field name="model_id" ref="model_dnu_asset_handover"/>
            <field name="subject">üñäÔ∏è Y√™u c·∫ßu k√Ω bi√™n b·∫£n b√†n giao: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object._get_notification_email_to('pending_signature')|safe}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #3498db;">üñäÔ∏è Y√™u c·∫ßu k√Ω bi√™n b·∫£n b√†n giao t√†i s·∫£n</h2>

    <p>Xin ch√†o,</p>

    <p>Bi√™n b·∫£n b√†n giao sau ƒë√¢y ƒëang ·ªü tr·∫°ng th√°i <strong>Ch·ªù k√Ω</strong> v√† c·∫ßn b·∫°n k√Ω x√°c nh·∫≠n:</p>

    <div style="background-color: #ebf5fb; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #3498db;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>S·ªë bi√™n b·∫£n:</strong></td>
                <td style="padding: 5px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Lo·∫°i bi√™n b·∫£n:</strong></td>
                <td style="padding: 5px;">${dict(object._fields['handover_type'].selection).get(object.handover_type)}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_name or (object.asset_id and object.asset_id.name) or ''}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng√†y b√†n giao:</strong></td>
                <td style="padding: 5px;">${format_datetime(object.handover_date, dt_format='dd/MM/yyyy HH:mm')}</td>
            </tr>
        </table>
    </div>

    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.handover&amp;view_type=form"
           style="background-color: #3498db; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            M·ªü bi√™n b·∫£n ƒë·ªÉ k√Ω
        </a>
    </p>

    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
    </p>
</div>
            </field>
        </record>

        <record id="email_template_handover_signed" model="mail.template">
            <field name="name">Asset Handover: Signed</field>
            <field name="model_id" ref="model_dnu_asset_handover"/>
            <field name="subject">‚úÖ Bi√™n b·∫£n ƒë√£ k√Ω: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object._get_notification_email_to('signed')|safe}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #27ae60;">‚úÖ Bi√™n b·∫£n b√†n giao ƒë√£ k√Ω</h2>

    <p>Xin ch√†o,</p>

    <p>Bi√™n b·∫£n b√†n giao <strong>${object.name}</strong> ƒë√£ ƒë∆∞·ª£c k√Ω ƒë·∫ßy ƒë·ªß.</p>

    <div style="background-color: #d4edda; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #27ae60;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_name or (object.asset_id and object.asset_id.name) or ''}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng∆∞·ªùi nh·∫≠n:</strong></td>
                <td style="padding: 5px;">${object.nhan_vien_id and object.nhan_vien_id.ho_va_ten or ''}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>Ng∆∞·ªùi giao:</strong></td>
                <td style="padding: 5px;">${object.deliverer_id and object.deliverer_id.ho_va_ten or ''}</td>
            </tr>
        </table>
    </div>

    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.handover&amp;view_type=form"
           style="background-color: #27ae60; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem bi√™n b·∫£n
        </a>
    </p>

    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
    </p>
</div>
            </field>
        </record>

        <record id="email_template_handover_completed" model="mail.template">
            <field name="name">Asset Handover: Completed</field>
            <field name="model_id" ref="model_dnu_asset_handover"/>
            <field name="subject">üèÅ Bi√™n b·∫£n ƒë√£ ho√†n th√†nh: ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object._get_notification_email_to('completed')|safe}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <h2 style="color: #8e44ad;">üèÅ Bi√™n b·∫£n b√†n giao ƒë√£ ho√†n th√†nh</h2>

    <p>Xin ch√†o,</p>

    <p>Bi√™n b·∫£n b√†n giao <strong>${object.name}</strong> ƒë√£ chuy·ªÉn sang tr·∫°ng th√°i <strong>Ho√†n th√†nh</strong>.</p>

    <div style="background-color: #f5eef8; padding: 15px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #8e44ad;">
        <table style="width: 100%;">
            <tr>
                <td style="padding: 5px;"><strong>T√†i s·∫£n:</strong></td>
                <td style="padding: 5px;">${object.asset_name or (object.asset_id and object.asset_id.name) or ''}</td>
            </tr>
            <tr>
                <td style="padding: 5px;"><strong>ƒê∆°n v·ªã:</strong></td>
                <td style="padding: 5px;">${object.don_vi_id and object.don_vi_id.ten_don_vi or ''}</td>
            </tr>
            % if object.van_ban_id:
            <tr>
                <td style="padding: 5px;"><strong>VƒÉn b·∫£n ƒëi:</strong></td>
                <td style="padding: 5px;">${object.van_ban_id.so_van_ban_di or ''} - ${object.van_ban_id.ten_van_ban or ''}</td>
            </tr>
            % endif
        </table>
    </div>

    <p style="margin-top: 20px;">
        <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.asset.handover&amp;view_type=form"
           style="background-color: #8e44ad; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
            Xem bi√™n b·∫£n
        </a>
    </p>

    <p style="color: #7f8c8d; font-size: 12px; margin-top: 30px;">
        ƒê√¢y l√† email t·ª± ƒë·ªông. Vui l√≤ng kh√¥ng tr·∫£ l·ªùi email n√†y.
    </p>
</div>
            </field>
        </record>

        <!-- ==================== MEETING BOOKING EMAIL TEMPLATES ==================== -->
        
        <!-- Email Template: Meeting Reminder -->
        <record id="email_template_meeting_reminder" model="mail.template">
            <field name="name">Meeting Booking: Reminder</field>
            <field name="model_id" ref="model_dnu_meeting_booking"/>
            <field name="subject">‚è∞ Nh·∫Øc l·ªãch h·ªçp: ${object.subject} - ${format_datetime(object.start_datetime, dt_format='HH:mm')}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.organizer_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px; background-color: #fffbea;">
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 20px; border-radius: 10px 10px 0 0; text-align: center;">
        <h2 style="color: white; margin: 0;">‚è∞ NH·∫ÆC L·ªäCH H·ªåP</h2>
        <p style="color: white; margin: 5px 0 0 0; font-size: 14px;">Cu·ªôc h·ªçp c·ªßa b·∫°n s·∫Øp di·ªÖn ra!</p>
    </div>
    
    <div style="background: white; padding: 20px; border-radius: 0 0 10px 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <p style="font-size: 16px; margin-bottom: 20px;">Xin ch√†o <strong>${object.organizer_id.name}</strong>,</p>
        
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
            <h3 style="margin: 0; font-size: 18px;">${object.subject}</h3>
            <p style="margin: 10px 0 0 0; font-size: 24px; font-weight: bold;">
                ${format_datetime(object.start_datetime, dt_format='HH:mm')} - ${format_datetime(object.end_datetime, dt_format='HH:mm')}
            </p>
            <p style="margin: 5px 0 0 0; font-size: 14px;">
                üìÖ ${format_datetime(object.start_datetime, dt_format='dd/MM/yyyy (EEE)')}
            </p>
        </div>
        
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <table style="width: 100%;">
                <tr>
                    <td style="padding: 8px; width: 30%;"><strong>üìç ƒê·ªãa ƒëi·ªÉm:</strong></td>
                    <td style="padding: 8px;">${object.room_id.name}
                        % if object.room_id.location:
                        - ${object.room_id.location}
                        % endif
                    </td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>üë• S·ªë ng∆∞·ªùi:</strong></td>
                    <td style="padding: 8px;">${object.num_attendees} ng∆∞·ªùi</td>
                </tr>
                % if object.meeting_type == 'online':
                <tr>
                    <td style="padding: 8px;"><strong>üíª Lo·∫°i:</strong></td>
                    <td style="padding: 8px;"><span style="background: #10b981; color: white; padding: 3px 10px; border-radius: 12px; font-size: 12px;">ONLINE</span></td>
                </tr>
                % endif
            </table>
        </div>
        
        % if object.zoom_join_url:
        <div style="background: linear-gradient(135deg, #2684FF 0%, #0747A6 100%); padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
            <p style="color: white; margin: 0 0 10px 0; font-size: 14px;">üîó Link h·ªçp Zoom</p>
            <a href="${object.zoom_join_url}" 
               style="background-color: white; color: #0747A6; padding: 12px 30px; text-decoration: none; border-radius: 25px; display: inline-block; font-weight: bold; font-size: 16px;">
                Tham gia h·ªçp ngay
            </a>
            % if object.zoom_password:
            <p style="color: white; margin: 10px 0 0 0; font-size: 13px;">üîë Password: <strong>${object.zoom_password}</strong></p>
            % endif
        </div>
        % endif
        
        % if object.google_calendar_link:
        <p style="text-align: center; margin: 15px 0;">
            <a href="${object.google_calendar_link}" style="color: #27ae60; text-decoration: none;">
                üìÖ Xem trong Google Calendar
            </a>
        </p>
        % endif
        
        % if object.description:
        <div style="border-left: 4px solid #667eea; padding-left: 15px; margin: 20px 0;">
            <strong>üìù N·ªôi dung cu·ªôc h·ªçp:</strong>
            <p style="margin: 5px 0;">${object.description}</p>
        </div>
        % endif
        
        <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 12px; margin: 20px 0; border-radius: 4px;">
            <strong style="color: #d97706;">‚ö†Ô∏è L∆∞u √Ω:</strong>
            <p style="margin: 5px 0; color: #92400e;">Vui l√≤ng chu·∫©n b·ªã v√† tham gia ƒë√∫ng gi·ªù. N·∫øu kh√¥ng th·ªÉ tham d·ª±, vui l√≤ng th√¥ng b√°o s·ªõm.</p>
        </div>
        
        <p style="text-align: center; margin-top: 25px;">
            <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.meeting.booking&amp;view_type=form" 
               style="background-color: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 25px; display: inline-block; font-weight: bold;">
                Xem chi ti·∫øt ƒë·∫ßy ƒë·ªß
            </a>
        </p>
    </div>
    
    <p style="color: #9ca3af; font-size: 12px; text-align: center; margin-top: 20px;">
        ƒê√¢y l√† email nh·∫Øc l·ªãch t·ª± ƒë·ªông. Email n√†y ƒë∆∞·ª£c g·ª≠i 30 ph√∫t tr∆∞·ªõc gi·ªù h·ªçp.
    </p>
</div>
            </field>
        </record>

        <!-- Email Template: Meeting Update Notification -->
        <record id="email_template_meeting_update" model="mail.template">
            <field name="name">Meeting Booking: Update Notification</field>
            <field name="model_id" ref="model_dnu_meeting_booking"/>
            <field name="subject">üîÑ C·∫≠p nh·∫≠t l·ªãch h·ªçp: ${object.subject}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.organizer_id.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px;">
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 20px; border-radius: 10px 10px 0 0; text-align: center;">
        <h2 style="color: white; margin: 0;">üîÑ L·ªäCH H·ªåP C√ì THAY ƒê·ªîI</h2>
    </div>
    
    <div style="background: white; padding: 20px; border-radius: 0 0 10px 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <p>Xin ch√†o <strong>${object.organizer_id.name}</strong>,</p>
        
        <p>L·ªãch h·ªçp sau ƒë√¢y <strong style="color: #f59e0b;">ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t</strong>. Vui l√≤ng ki·ªÉm tra th√¥ng tin m·ªõi:</p>
        
        <div style="background-color: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; margin: 20px 0;">
            <strong style="color: #d97706;">‚ö†Ô∏è ƒê√É C√ì THAY ƒê·ªîI - VUI L√íNG XEM K·ª∏ TH√îNG TIN B√äN D∆Ø·ªöI</strong>
        </div>
        
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <table style="width: 100%;">
                <tr>
                    <td style="padding: 8px;"><strong>M√£ ƒë·∫∑t ph√≤ng:</strong></td>
                    <td style="padding: 8px;">${object.name}</td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>Ch·ªß ƒë·ªÅ:</strong></td>
                    <td style="padding: 8px;">${object.subject}</td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>Th·ªùi gian:</strong></td>
                    <td style="padding: 8px;">
                        ${format_datetime(object.start_datetime, dt_format='dd/MM/yyyy HH:mm')} - 
                        ${format_datetime(object.end_datetime, dt_format='HH:mm')}
                    </td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>Ph√≤ng h·ªçp:</strong></td>
                    <td style="padding: 8px;">${object.room_id.name}
                        % if object.room_id.location:
                        - ${object.room_id.location}
                        % endif
                    </td>
                </tr>
                % if object.meeting_type == 'online':
                <tr>
                    <td style="padding: 8px;"><strong>Lo·∫°i cu·ªôc h·ªçp:</strong></td>
                    <td style="padding: 8px;"><span style="background: #10b981; color: white; padding: 3px 10px; border-radius: 12px; font-size: 12px;">ONLINE</span></td>
                </tr>
                % endif
            </table>
        </div>
        
        % if object.zoom_join_url:
        <div style="background-color: #dbeafe; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <strong>üîó Link h·ªçp Zoom:</strong><br/>
            <a href="${object.zoom_join_url}" style="color: #2563eb; word-break: break-all;">${object.zoom_join_url}</a>
            % if object.zoom_password:
            <p style="margin: 5px 0 0 0;"><strong>üîë Password:</strong> ${object.zoom_password}</p>
            % endif
        </div>
        % endif
        
        % if object.google_calendar_link:
        <p style="text-align: center; margin: 15px 0;">
            <a href="${object.google_calendar_link}" 
               style="background-color: #10b981; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
                üìÖ C·∫≠p nh·∫≠t trong Google Calendar
            </a>
        </p>
        % endif
        
        % if object.description:
        <div style="margin: 20px 0;">
            <strong>üìù M√¥ t·∫£:</strong>
            <p style="margin: 5px 0;">${object.description}</p>
        </div>
        % endif
        
        % if object.attendee_ids:
        <div style="margin: 20px 0;">
            <strong>üë• Ng∆∞·ªùi tham d·ª±:</strong>
            <ul style="margin-top: 5px;">
                % for attendee in object.attendee_ids:
                <li>${attendee.name}</li>
                % endfor
            </ul>
        </div>
        % endif
        
        <p style="text-align: center; margin-top: 25px;">
            <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=dnu.meeting.booking&amp;view_type=form" 
               style="background-color: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 25px; display: inline-block; font-weight: bold;">
                Xem chi ti·∫øt
            </a>
        </p>
    </div>
    
    <p style="color: #9ca3af; font-size: 12px; text-align: center; margin-top: 20px;">
        Email th√¥ng b√°o t·ª± ƒë·ªông khi c√≥ thay ƒë·ªïi l·ªãch h·ªçp.
    </p>
</div>
            </field>
        </record>

    </data>
</odoo>
